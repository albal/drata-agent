{
    "name": "drata-agent",
    "version": "3.9.0",
    "description": "The Drata Agent is a light-weight tray-application that runs in the background, reporting important read-only data to Drata about your machine's state for compliance tracking.",
    "author": "Drata Inc. <drata@drata.com> (https://drata.com)",
    "private": true,
    "license": "Apache-2.0",
    "main": "dist/main.js",
    "osquery": "5.19.0",
    "scripts": {
        "prebuild": "rimraf dist",
        "build": "webpack --mode=production --env targetEnv=LOCAL",
        "build:cli": "webpack --config webpack.cli.js --mode=production --env targetEnv=PROD",
        "build:cli:dev": "webpack --config webpack.cli.js --mode=development --env targetEnv=LOCAL",
        "react:dev": "webpack serve --mode=development",
        "electron:dev": "nodemon",
        "start": "yarn dev:prepare:macos && concurrently --kill-others --names \"REND,MAIN\" \"yarn react:dev\" \"yarn electron:dev\"",
        "dev:prepare:macos": "ARCH=$(uname -m) && mkdir -p lib/macos/bin/$ARCH && rsync -a lib/osquery/macos-$ARCH-osqueryi lib/macos/bin/$ARCH/osqueryi && chmod +x ./lib/macos/bin/$ARCH/osqueryi",
        "test": "jest",
        "i18n:extract": "formatjs extract './src/**/*.{js,jsx,ts,tsx,mjs,cjs}' --ignore './src/**/*.d.ts' './src/**/*.d.*.ts' --out-file ./src/assets/data/locales/extracts/en-US.json --additional-function-names=_t --throws --format ./src/format.js --preserve-whitespace",
        "i18n:compile": "formatjs compile-folder ./src/assets/data/locales/extracts/ ./src/assets/data/locales --ast"
    },
    "build": {
        "appId": "com.drata.agent",
        "productName": "Drata Agent",
        "copyright": "Â© 2025 Drata Inc. All rights reserved.",
        "artifactName": "Drata-Agent-${os}.${ext}",
        "publish": [
            {
                "provider": "github",
                "owner": "drata",
                "repo": "drata-agent"
            }
        ],
        "protocols": {
            "name": "auth-drata-agent-protocol",
            "schemes": [
                "auth-drata-agent"
            ]
        },
        "files": [
            "./build/**/*",
            "./dist/preload.js",
            "./dist/renderer.js",
            "./dist/renderer.js.map",
            "./dist/index.html",
            "./dist/main.js",
            "./src/assets/**/*",
            "!.env",
            "!scripts/notarize.js",
            "!.vscode/**/*",
            "!.github/**/*",
            "!builder.cli.js",
            "!nodemon.json",
            "!.prettierrc",
            "!.eslintrc.json",
            "!**/node_modules/*/{CHANGELOG.md,README.md,README,readme.md,readme}",
            "!**/node_modules/*/{test,__tests__,tests,powered-test,example,examples}",
            "!**/node_modules/*.d.ts",
            "!**/node_modules/.bin",
            "!**/*.{iml,o,hprof,orig,pyc,pyo,rbc,swp,csproj,sln,xproj}",
            "!.editorconfig",
            "!**/._*",
            "!**/{.DS_Store,.git,.hg,.svn,CVS,RCS,SCCS,.gitignore,.gitattributes}",
            "!**/{__pycache__,thumbs.db,.flowconfig,.idea,.vs,.nyc_output}",
            "!**/{appveyor.yml,.travis.yml,circle.yml}",
            "!**/{npm-debug.log,yarn.lock,.yarn-integrity,.yarn-metadata.json}"
        ],
        "dmg": {
            "sign": false
        },
        "deb": {
            "appArmorProfile": "./build/drata-agent.apparmor"
        },
        "pkg": {
            "installLocation": "/Applications",
            "allowAnywhere": true,
            "allowCurrentUserHome": true,
            "welcome": "build/resources/welcome.txt",
            "conclusion": "build/resources/conclusion.txt"
        },
        "mac": {
            "extendInfo": {
                "LSUIElement": "true"
            },
            "notarize": false,
            "hardenedRuntime": true,
            "gatekeeperAssess": false,
            "entitlements": "build/entitlements.mac.plist",
            "entitlementsInherit": "build/entitlements.mac.plist",
            "mergeASARs": true,
            "extraResources": [
                {
                    "from": "lib/osquery/macos-${arch}-osqueryi",
                    "to": "lib/macos/bin/osqueryi"
                }
            ],
            "target": [
                {
                    "target": "pkg",
                    "arch": [
                        "universal"
                    ]
                },
                {
                    "target": "dmg",
                    "arch": [
                        "universal"
                    ]
                },
                {
                    "target": "zip",
                    "arch": [
                        "universal"
                    ]
                }
            ]
        },
        "win": {
            "signtoolOptions": {
                "signingHashAlgorithms": [
                    "sha256"
                ]
            },
            "extraResources": {
                "from": "lib/osquery/win-${arch}-osqueryi.exe",
                "to": "lib/windows/bin/osqueryi.exe"
            },
            "target": [
                {
                    "target": "nsis",
                    "arch": [
                        "x64"
                    ]
                }
            ],
            "icon": "build/icon.png"
        },
        "nsis": {
            "packElevateHelper": false
        },
        "linux": {
            "extraResources": {
                "from": "lib/osquery/linux-${arch}-osqueryi",
                "to": "lib/linux/bin/osqueryi"
            },
            "target": [
                {
                    "target": "AppImage",
                    "arch": [
                        "x64"
                    ]
                },
                {
                    "target": "deb",
                    "arch": [
                        "x64"
                    ]
                }
            ],
            "icon": "./build/icon.icns",
            "category": "Office"
        }
    },
    "engines": {
        "node": "22.14.0"
    },
    "devDependencies": {
        "@datadog/browser-rum": "^6.22.0",
        "@drata/component-library": "^0.9.2",
        "@electron/notarize": "^3.1.0",
        "@formatjs/cli": "^6.7.4",
        "@formatjs/intl": "^3.1.8",
        "@inquirer/prompts": "^7.5.1",
        "@redux-devtools/extension": "^3.3.0",
        "@reduxjs/toolkit": "^2.9.0",
        "@types/auto-launch": "^5.0.5",
        "@types/cli-spinner": "^0.2.3",
        "@types/color-convert": "^2.0.4",
        "@types/inquirer": "^9.0.9",
        "@types/jest": "^30.0.0",
        "@types/lodash": "^4.17.20",
        "@types/node": "^22.18.9",
        "@types/qs": "^6.14.0",
        "@types/react": "19.2.2",
        "@types/react-dom": "^19.2.1",
        "@types/yargs": "^17.0.33",
        "@typescript-eslint/eslint-plugin": "^8.46.0",
        "@typescript-eslint/parser": "^8.46.0",
        "auto-launch": "^5.0.6",
        "axios": "^1.12.2",
        "chalk": "^5.6.2",
        "cli-spinner": "^0.2.10",
        "color-convert": "^3.1.2",
        "concurrently": "^9.2.1",
        "croner": "^9.1.0",
        "css-loader": "^7.1.2",
        "dotenv-cli": "^10.0.0",
        "electron": "38.2.2",
        "electron-builder": "26",
        "electron-builder-squirrel-windows": "26.0.20",
        "electron-devtools-installer": "^4.0.0",
        "electron-log": "^5.4.3",
        "electron-updater": "^6.6.8",
        "eslint": "^9.37.0",
        "eslint-config-prettier": "^10.1.8",
        "eslint-plugin-jsx-a11y": "^6.10.2",
        "eslint-plugin-react": "^7.37.5",
        "eslint-plugin-react-hooks": "^7.0.0",
        "fast-safe-stringify": "^2.1.1",
        "file-loader": "^6.2.0",
        "html-webpack-plugin": "^5.6.4",
        "inquirer": "^12.9.6",
        "jest": "^30.2.0",
        "lodash": "^4.17.21",
        "moment": "^2.30.1",
        "nodemon": "^3.1.10",
        "prettier": "^3.6.2",
        "qs": "6.14.0",
        "react": "^19.2.0",
        "react-dom": "^19.2.0",
        "react-feather": "^2.0.10",
        "react-intl": "^7.1.14",
        "react-is": "^19.2.0",
        "react-redux": "^9.2.0",
        "react-router": "^7.9.4",
        "react-router-dom": "^7.9.4",
        "reactstrap": "^9.2.3",
        "redux": "^5.0.1",
        "redux-thunk": "^3.1.0",
        "sass": "^1.93.2",
        "sass-loader": "^16.0.5",
        "style-loader": "^4.0.0",
        "styled-components": "^6.1.19",
        "terser-webpack-plugin": "^5.3.14",
        "toad-scheduler": "^3.1.0",
        "ts-jest": "^29.4.4",
        "ts-loader": "^9.5.4",
        "ts-node": "^10.9.2",
        "typescript": "^5.9.3",
        "url-loader": "^4.1.1",
        "webpack": "^5.102.1",
        "webpack-cli": "^6.0.1",
        "webpack-dev-server": "^5.2.2",
        "yargs": "^18.0.0"
    },
    "jest": {
        "preset": "ts-jest",
        "testEnvironment": "node",
        "setupFiles": [
            "<rootDir>/.jest/processEnvVars.js"
        ]
    }
}
